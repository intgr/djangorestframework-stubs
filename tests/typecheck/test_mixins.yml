- case: test_viewset_action_correct
  main: |
    from typing import Optional
    
    from django.db.models import Model
    from django.http.response import HttpResponseBase
    from rest_framework.decorators import action
    from rest_framework.request import Request
    from rest_framework.response import Response
    from rest_framework.viewsets import ModelViewSet
    
    
    class MyModel(Model): ...
    

    class UserViewSet(ModelViewSet):
        @action(detail=True, methods=['put'])
        def password(self, request: Request, pk: Optional[str]=None) -> Response: ...
    
        @password.mapping.delete
        def delete_password(self, request: Request, pk: Optional[str]=None) -> Response: ...

        @action(detail=True, methods=['post'])
        def method(self, request: Request, pk: str) -> HttpResponseBase: ...

        @action(detail=False)
        def items(self, _request: Request) -> Response: ...
        

- case: test_viewset_action_incorrect
  main: |
    from typing import Optional

    from django.db.models import Model
    from rest_framework.decorators import action
    from rest_framework.request import Request
    from rest_framework.response import Response
    from rest_framework.viewsets import ModelViewSet


    class MyModel(Model): ...


    class UserViewSet(ModelViewSet):
        @action(detail=True, methods=['put'], name='Change Password')
        def password(self, request: Request, pk: Optional[str]=None) -> Response: ...

        @password.mapping.delete
        def delete_password(self, request: Request, pk: Optional[str]=None) -> Response: ...
